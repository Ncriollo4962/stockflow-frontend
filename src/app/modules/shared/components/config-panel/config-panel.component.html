 <p-popover #op>
      <div class="flex flex-col gap-4 w-80">
        <!-- Primary Colors -->
        <div>
          <span class="font-medium text-surface-500 dark:text-surface-400 text-sm"
            >Primary</span
          >
          <div class="flex items-center gap-2 flex-wrap w-full mt-2">
            @for (primaryColor of primaryColors; track primaryColor.name) {
              <button
                type="button"
                [title]="primaryColor.name"
                (click)="updatePrimaryColor(primaryColor)"
                class="w-5 h-5 rounded-full cursor-pointer flex items-center justify-center p-0 outline-none transition-colors border-none"
                [style.background-color]="
                  primaryColor.name === 'noir'
                    ? 'var(--p-text-color)'
                    : primaryColor.palette[500]
                "
                [class.ring-2]="selectedPrimaryColor?.name === primaryColor.name"
                [class.ring-offset-2]="
                  selectedPrimaryColor?.name === primaryColor.name
                "
              ></button>
            }
          </div>
        </div>

        <!-- Surface Colors -->
        <div>
          <span class="font-medium text-surface-500 dark:text-surface-400 text-sm"
            >Surface</span
          >
          <div class="flex items-center gap-2 flex-wrap w-full mt-2">
            @for (surface of surfaces; track surface.name) {
              <button
                type="button"
                [title]="surface.name"
                (click)="updateSurfaceColor(surface)"
                class="w-5 h-5 rounded-full cursor-pointer flex items-center justify-center p-0 outline-none transition-colors border-none"
                [style.background-color]="surface.palette[500]"
                [class.ring-2]="selectedSurfaceColor?.name === surface.name"
                [class.ring-offset-2]="
                  selectedSurfaceColor?.name === surface.name
                "
              ></button>
            }
          </div>
        </div>

        <!-- Presets -->
        <div>
          <span class="font-medium text-surface-500 dark:text-surface-400 text-sm"
            >Presets</span
          >
          <div class="flex items-center gap-2 flex-wrap w-full mt-2">
            <p-selectbutton
              [options]="presets"
              [(ngModel)]="selectedPreset"
              optionLabel="label"
              optionValue="value"
              (onChange)="onPresetChange($event)"
              [allowEmpty]="false"
            />
          </div>
        </div>

        <!-- Menu Mode -->
        <div>
          <span class="font-medium text-surface-500 dark:text-surface-400 text-sm"
            >Menu Mode</span
          >
          <div class="flex items-center gap-2 flex-wrap w-full mt-2">
            <p-selectbutton
              [options]="menuModes"
              [ngModel]="menuMode"
              (ngModelChange)="menuModeChange.emit($event)"
              optionLabel="label"
              optionValue="value"
              [allowEmpty]="false"
            />
          </div>
        </div>
      </div>
    </p-popover>
